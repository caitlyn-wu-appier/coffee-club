<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>è¨­å‚™æ¸…å–® â€” Coffee Club</title>

  <!-- Tailwind for quick styling (dev) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    a.no-hover:hover { text-decoration: none !important; color: inherit !important; }
    /* small helpers */
    .icon-3xl { font-size: 1.75rem; line-height: 1; }
    .max-h-100 { max-height: 25rem; }
  </style>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 p-6 md:p-10 font-sans">
  <div class="max-w-5xl mx-auto bg-white shadow-lg rounded-2xl overflow-hidden">
    <header class="flex items-center justify-between p-6 border-b">
      <div>
        <h1 class="text-2xl font-semibold">è¨­å‚™æ¸…å–®</h1>
        <p class="text-sm text-gray-500 mt-1">æ¨“å±¤æŒ‰é †åºé¡¯ç¤ºï¼š7F â†’ 8F â†’ 9Fã€‚é»æ“Šç‰©å“å¯æŸ¥çœ‹è©³æƒ…ã€‚</p>
      </div>
      <div id="floor-buttons" class="flex gap-2"></div>
    </header>

    <main class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6 md:p-8">
      <section class="md:col-span-2">
        <div class="rounded-xl p-4 border bg-gray-50">
          <div id="items-grid" class="grid grid-cols-2 sm:grid-cols-4 gap-4 items-center"></div>
        </div>
      </section>

      <aside class="md:col-span-1">
        <div class="sticky top-6 bg-gray-50 p-4 rounded-xl border h-full space-y-6" id="detail-panel">
          <div>
            <h3 class="text-sm font-semibold">è©³æƒ…é¢æ¿</h3>
            <div id="detail-content" class="text-sm text-gray-500 mt-3">å°šæœªé¸å–ä»»ä½•ç‰©å“ã€‚é»æ“Šå·¦å´çš„åœ–ç¤ºæŸ¥çœ‹ç´°ç¯€ã€‚</div>
          </div>

          <div id="burr-info"></div>
        </div>
      </aside>
    </main>

    <!-- åˆ€ç›¤ä»‹ç´¹ -->
    <section class="p-8 bg-white border-t">
      <h2 class="text-2xl font-semibold mb-4">åˆ€ç›¤ä»‹ç´¹</h2>
      <div class="text-sm text-gray-700 leading-relaxed space-y-3">
        <p>åœ¨ç ”ç£¨å’–å•¡è±†éç¨‹ä¸­ï¼Œã€Œåˆ€ç›¤ã€æ˜¯ç›´æ¥å½±éŸ¿ç²‰ç²’åˆ†å¸ƒã€é¡†ç²’å‡å‹»åº¦èˆ‡é¢¨å‘³è¡¨ç¾çš„é—œéµå…ƒä»¶ã€‚æ ¹æ“š <a href="https://www.femobook.com.tw/blogs/coffee-information/186696" target="_blank" rel="noopener noreferrer" class="text-blue-600">Femobook</a> çš„åˆ†æï¼Œä¸åŒå½¢å¼çš„åˆ€ç›¤ï¼ˆå¹³åˆ€ã€éŒåˆ€ã€é¬¼é½’åˆ€ï¼‰å„æœ‰å…¶ç‰¹æ€§ã€‚</p>
        <ul class="list-disc list-inside space-y-1">
          <li><strong>å¹³åˆ€ï¼ˆFlatâ€¯Burrï¼‰</strong>ï¼šç²‰ç²’åˆ†å¸ƒé›†ä¸­ï¼Œé¢¨å‘³ä¹¾æ·¨ã€æ˜äº®ï¼Œé©åˆè¿½æ±‚å±¤æ¬¡åˆ†æ˜çš„é¢¨å‘³è¡¨ç¾ã€‚</li>
          <li><strong>éŒåˆ€ï¼ˆConicalâ€¯Burrï¼‰</strong>ï¼šç²‰ç²’é›™å³°åˆ†ä½ˆï¼Œé¢¨å‘³é†‡åšã€å±¤æ¬¡è±å¯Œï¼Œä¿ç•™æ›´å¤šé¦™æ°£ã€‚</li>
          <li><strong>é¬¼é½’åˆ€ï¼ˆSerratedâ€¯Burrï¼‰</strong>ï¼šç ”ç£¨é€Ÿåº¦å¿«ã€é¡†ç²’å‡å‹»ï¼Œé¢¨å‘³å¹³è¡¡ä¸”ä¹¾æ·¨ã€‚</li>
        </ul>
        <p>ç›®å‰å…¬å¸ä½¿ç”¨çš„åˆ€ç›¤å‹è™Ÿç‚º <strong>S2C890</strong> èˆ‡ <strong>S2C660</strong>ã€‚</p>

        <div class="overflow-x-auto flex gap-4 pb-4">
          <img src="https://ae01.alicdn.com/kf/S78f155549e64433cbdad5e1067d26ea8K.jpg" alt="S2C890" class="rounded-lg border mb-3 object-contain max-h-100 w-full" />
        </div>
        <p>åƒè€ƒæ–‡ä»¶ï¼š<a href="https://ptt.reviews/Coffee/E.NKiLFSkA6qEs" target="_blank" rel="noopener noreferrer" class="text-blue-600">[å™¨æ] å¸‚é¢å¸¸è¦‹æ‰‹æ–ç£¨è±†æ©Ÿçš„éŒåˆ€è¨­è¨ˆç†è«– - PTTè©•åƒ¹</a></p>
      </div>
    </section>

    <!-- æ¿¾æ¯ä»‹ç´¹å€å¡Š -->
    <section class="p-8 bg-white border-t">
      <h2 class="text-2xl font-semibold mb-4">æ¿¾æ¯ä»‹ç´¹</h2>
      <div id="cups" class="overflow-x-auto flex gap-4 pb-4"></div>
    </section>

    <!-- Appier å’–å•¡åœ°åœ–å€å¡Š -->
    <section class="p-8 bg-white border-t">
      <iframe src="https://www.google.com/maps/d/embed?mid=1NjYyXrB2906wevRDK0G3SUQUTgWb9Bw&ehbc=2E312F" width="640" height="480"></iframe>
      <h2 class="text-2xl font-semibold mb-4">Appier å’–å•¡åœ°åœ–</h2>
      <a href="https://www.google.com/maps/d/edit?mid=1NjYyXrB2906wevRDK0G3SUQUTgWb9Bw&usp=sharing" target="_blank" rel="noopener noreferrer" class="text-blue-600 break-all">https://www.google.com/maps/d/edit?mid=1NjYyXrB2906wevRDK0G3SUQUTgWb9Bw&usp=sharing</a>
    </section>

    <!-- Flavor Describe-->
    <section class="p-8 bg-white border-t">
      <h2 class="text-2xl font-semibold mb-4">é¢¨å‘³æè¿°</h2>
      <div id="flavor" class="overflow-x-auto flex gap-4 pb-4"></div>
    </section>

    <!-- Flavor Wheel-->
    <section class="p-8 bg-white border-t">
      <h2 class="text-2xl font-semibold mb-4">é¢¨å‘³è¼ª</h2>
      <div class="text-sm text-gray-700 leading-relaxed space-y-3">
        <p></p>
        <p>å’–å•¡é¢¨å‘³è¼ªï¼Œæ˜¯ç”±ç¾åœ‹ç²¾å“å’–å•¡å”æœƒèˆ‡ä¸–ç•Œå’–å•¡ç ”ç©¶å®¤WCRå…±åŒè¨­è¨ˆï¼Œå”åŠ©å¤§å®¶å»ºç«‹å…±åŒèªè¨€ï¼Œä½¿æ¯æ¸¬æ™‚çš„æè¿°æ›´ä¸€è‡´ã€å¯æºé€šã€å¯æ•™å­¸ã€‚</p>
        <ul class="list-disc list-inside space-y-1">
          <li><strong>é¢¨å‘³ï¼ˆAroma/Flavorï¼‰</strong>ï¼šå…ˆç”±å¤–åœˆæ‰¾åˆ°ç›´è¦ºè¯æƒ³ï¼ˆå¦‚æŸ‘æ©˜ã€è“æœã€èŠ±é¦™ï¼‰ï¼Œå†å¾€å…§æ”¶æ–‚åˆ°æ›´å»£ç¾©çš„æ—ç¾¤ï¼ˆæ°´æœã€èŠ±é¦™ã€ç”œé¦™ï¼‰ã€‚</li>
          <li><strong>å£å‘³ï¼ˆTasteï¼‰</strong>ï¼šå¾åŸºæœ¬å‘³ï¼ˆé…¸ã€ç”œã€è‹¦ã€é¹¹ã€é®®ï¼‰èˆ‡é…¸è³ªå‹æ…‹ï¼ˆæ˜äº®ã€æŸ”å’Œã€æœé…¸ï¼‰åˆ¤è®€ï¼Œè¼”ä»¥ç”œæ„Ÿèˆ‡é¤˜éŸ»é•·çŸ­ã€‚</li>
          <li><strong>å£æ„Ÿï¼ˆMouthfeelï¼‰</strong>ï¼šåšè–„åº¦ã€æ»‘é †ã€æ²¹è„‚æ„Ÿã€å–®å¯§æ„Ÿã€èµ·æ³¡èˆ‡æ½”æ·¨åº¦ç­‰ï¼Œå›åˆ°é¢¨å‘³è¼ªç¢ºèªæ˜¯å¦å°æ‡‰çƒ˜ç„™æˆ–è™•ç†æ³•å¸¶ä¾†çš„è®ŠåŒ–ã€‚</li>
        </ul>
        <p>2015å¹´ä»¥å‰çš„é¢¨å‘³è¼ªä»¥ç”Ÿç‰©ã€ç‰©ç†ã€åŒ–å­¸è¦–è§’åˆ†é¡ï¼Œå¾Œä¾†æ”¹ç‚ºäººé¡æ„Ÿå®˜çš„å¯¦éš›æ„Ÿå—ï¼Œé‡æ–°æ¢³ç†ã€Œé¦™æ°£èˆ‡å‘³é“ã€çš„é€£çµï¼Œä»¥åŠã€Œç‘•ç–µé¢¨å‘³èˆ‡æ­£å‘é¢¨å‘³ã€çš„å°æ‡‰é—œä¿‚ã€‚</p>
        <div class="overflow-x-auto flex gap-4 pb-4">
          <a href="https://www.jasondavies.com/coffee-wheel/"><img src="img/flavor_wheel_2015.gif" alt="S2C890" class="rounded-lg border mb-3 object-contain max-h-100 w-full" /></a>
          <a href="https://notbadcoffee.com/flavor-wheel-en/"><img src="img/flavor_wheel_2025.jpg" alt="S2C890" class="rounded-lg border mb-3 object-contain max-h-100 w-full" /></a>
        </div>
        <p>å…¶ä»–åƒè€ƒè³‡æ–™ï¼š<a href="https://xliiicoffee.com/en/sensory/flavor-wheel/" target="_blank" rel="noopener noreferrer" class="text-blue-600">Coffee Taster's Flavor Wheel</a></p>
      </div>
    </section>
  </div>

  <script>
    // Data ported from original JS
    const FLOORS = [
      {
        id: "7F",
        items: [
          { key: "kettle", title: "FELLOW Stagg EKG é›»å­æº«æ§æ‰‹æ²–å£º ç™½ 600ml" },
          { key: "grinder", title: "1Z X-Ultra", link: "https://1zpresso.coffee/product/xultra/", burr: "1Z X-Ultra 40mm ä¸ƒèŠ¯åˆ€ç›¤" },
          { key: "scale", title: "é»‘é¡DUO" },
          { key: "dripper", title: "switch / v60 / æ˜ŸèŠ’ / å†°ç³" },
        ],
      },
      {
        id: "8F",
        items: [
          { key: "kettle", title: "Timemore Smart æº«æ§æ‰‹æ²–å£º é»‘ 800ml" },
          { key: "grinder", title: "æ³°æ‘© æ —å­S3 æ‰‹æ–ç£¨è±†æ©Ÿ", link: "https://www.jmi-mart.com/product/detail/1751876", burr: "æ —å­åˆ€ç›¤ S2C890", burrLink: "https://m.media-amazon.com/images/I/51f1N3s0qXL._AC_UF894,1000_QL80_.jpg" },
          { key: "scale", title: "HARIO åŒ—æ¥µæ˜Ÿå’–å•¡ç§¤" },
          { key: "dripper", title: "v60 / å·æµ / èŠ±ç“£" },
        ],
      },
      {
        id: "9F",
        items: [
          { key: "kettle", title: "FELLOW Stagg EKG é›»å­æº«æ§æ‰‹æ²–å£º é»‘ 600ml" },
          { key: "grinder", title: "æ³°æ‘©æ‰‹æ– C3", link: "https://buoncaffe.com.tw/products/timemore-grinder-c3/", burr: "C3 åˆ€ç›¤ S2C660", burrLink: "https://www.timemore.com.au/cdn/shop/products/Timemore-S2C660.jpg?v=1681275552&width=2048" },
          { key: "scale", title: "(ç„¡/å¾…è£œ)" },
          { key: "dripper", title: "v60 / å·æµ / å†°ç³" },
        ],
      },
    ];

    const ICONS = {
      kettle: "â˜•",
      grinder: "ğŸŒ€",
      scale: "âš–ï¸",
      dripper: "â–½",
    };

    // icons are image files named by the item key, e.g. ./icons/kettle.jpg
    const ICON_DIR = './img';

    const cupsData = [
      {
        name: 'V60 æ¿¾æ¯',
        img: 'https://w7.pngwing.com/pngs/717/935/png-transparent-brewed-coffee-espresso-dolce-gusto-hario-coffee-glass-coffee-saucer-thumbnail.png',
        desc: 'ç¶“å…¸èºæ—‹è‚‹éª¨è¨­è¨ˆï¼Œæµé€Ÿå¿«ï¼Œé¢¨å‘³ä¹¾æ·¨æ˜äº®ã€‚',
        link: 'https://www.hario.com.tw/?product=v60%e9%80%8f%e6%98%8e02%e6%a8%b9%e8%84%82%e6%bf%be%e6%9d%af'
      },
      {
        name: 'Switch æ¿¾æ¯',
        img: 'https://m.media-amazon.com/images/I/61D-zsF39HL._AC_SX679_.jpg',
        desc: 'çµåˆæµ¸æ³¡èˆ‡æ¿¾æ»´ï¼Œå¯æ§æ™‚é–“èˆ‡æµé€Ÿï¼Œèƒå–å±¤æ¬¡æ›´è±å¯Œã€‚',
        link: 'https://www.hario.com.tw/?product=%e6%b5%b8%e6%bc%ac%e5%bc%8f%e6%bf%be%e6%9d%af%e7%b5%84'
      },
      {
        name: 'å·æµæ¿¾æ¯',
        img: 'https://www.fengjen.com.tw/upload/catalog_b/twL_catalog_23J16_vbw4h9zkAc.jpg',
        desc: 'æ°´æµé›†ä¸­ã€èƒå–ç©©å®šï¼Œé©åˆä¸­æ·±ç„™ï¼Œå£æ„Ÿåšå¯¦ã€‚',
        link: 'https://www.fengjen.com.tw/catalog-detail/352/'
      },
      {
        name: 'æ˜ŸèŠ’æ¿¾æ¯',
        img: 'https://i1.momoshop.com.tw/1727693320/goodsimg/0010/681/959/10681959_R1.webp',
        desc: 'æ˜Ÿå‹è‚‹éª¨å¸¶ä¾†ä¸­åº¸æµé€Ÿèˆ‡å‡å‹»èƒå–ï¼Œé¢¨å‘³å¹³è¡¡ã€‚',
        link: 'https://www.momoshop.com.tw/goods/GoodsDetail.jsp?i_code=10681959&Area=search&mdiv=403&oid=1_3&cid=index&kw=%E6%98%9F%E8%8A%92%E6%BF%BE%E6%9D%AF'
      },
      {
        name: 'èŠ±ç“£æ¿¾æ¯',
        img: 'https://resize-image.vocus.cc/resize?norotation=true&quality=80&url=https%3A%2F%2Fimages.vocus.cc%2F79bbda9c-2264-4e55-9231-23d08d0d389a.jpg&width=740&sign=_0IZN_GbUEOD0nMADGuCGHid4ZeXpX0wRGrIz86tzso',
        desc: 'èŠ±ç“£ç‹€å…§å£å¢é€²å°æµèˆ‡æ’æ°£ï¼Œæ›´å¤šçµ²æ»‘çš„å£æ„Ÿï¼Œå±¤æ¬¡æ˜é¡¯ï¼Œæº«æ½¤å…¥å£',
        link: 'https://vocus.cc/article/5c6d0de2fd89780001eb3e01'
      },
      {
        name: 'å†°ç³æ¿¾æ¯',
        img: 'https://cdn.store-assets.com/s/1163940/i/78773780.jpeg',
        desc: 'é€æ˜çµæ§‹ä¾¿æ–¼è§€å¯Ÿæµé€Ÿï¼Œ é«˜é€šé€æ€§é¿å…å¡æ°´ã€‚',
        link: 'https://www.xn--14us3q.tw/collections/%E5%92%96%E5%95%A1%E6%BF%BE%E6%9D%AF/products/%E6%B3%B0%E6%91%A9%E5%92%96%E5%95%A1-%E6%A8%B9%E8%84%82%E5%86%B0%E7%9E%B301%E6%BF%BE%E6%9D%AF-%E6%A5%B5%E9%80%9F%E7%89%88-'
      }
    ];


    const flavorsData = [
        {
          name: 'Sweetï¼ˆç”œï¼‰',
          file: 'sweet',
          desc: 'æŒ‡å’–å•¡æœ¬èº«çš„å¤©ç„¶ç”œå‘³ï¼ˆéåŠ ç³–ï¼‰ï¼Œæ˜¯é«˜å“è³ªå’–å•¡å¸¸è¦‹ä¸”å¯å–œçš„ç‰¹æ€§ï¼Œå¸¶ä¾†æ„‰æ‚…æ„Ÿã€‚'
        },
        {
          name: 'Floralï¼ˆèŠ±é¦™ï¼‰',
          file: 'floral',
          desc: 'ç´°ç·»æ¸…çˆ½çš„èŠ±é¦™ï¼Œå¸¸è¦‹æ–¼æ·ºçƒ˜ç„™çš„å„ªè³ª Arabicaï¼Œä»£è¡¨æ¸…é›…ã€èœ‚èœœæˆ–èŠ±ç“£é¡é¦™æ°£ã€‚'
        },
        {
          name: 'Fruityï¼ˆæœé¦™ï¼‰',
          file: 'fruity',
          desc: 'æ³›æŒ‡æ–°é®®ã€ç”œç¾ã€é…¸çˆ½æˆ–å¤šæ±çš„æœé¡é¦™æ°£ï¼ˆå¦‚æŸ‘æ©˜ã€è“æœã€ä¹¾æœç­‰ï¼‰ï¼Œæ˜¯æ¯æ¸¬ä¸­é‡è¦çš„è¤‡é›œåº¦ä¾†æºã€‚'
        },
        {
          name: 'Sour / Fermentedï¼ˆé…¸ / ç™¼é…µï¼‰',
          file: 'fermented',
          desc: 'åŒ…å«æ˜é¡¯çš„é…¸æ„Ÿæˆ–ç™¼é…µé¡é¢¨å‘³ï¼šé…¸åº¦å¯å¢åŠ å±¤æ¬¡æ„Ÿï¼Œç™¼é…µæ€§é¢¨å‘³è‹¥éå¼·å‰‡å¯èƒ½ç‚ºè™•ç†æˆ–ç¼ºé™·ä¾†æºã€‚'
        },
        {
          name: 'Green / Vegetativeï¼ˆé’è”¬ / è‰æœ¬ï¼‰',
          file: 'green',
          desc: 'è¡¨ç¾ç‚ºç”Ÿé’ã€è‰æœ¬æˆ–è”¬èœé¡çš„å‘³é“ï¼›æœ‰æ™‚æºæ–¼çƒ˜ç„™ä¸è¶³æˆ–ç”Ÿè±†ç‰¹æ€§ï¼Œæœªå¿…ç­‰åŒç¼ºé™·ã€‚'
        },
        {
          name: 'Roastedï¼ˆçƒ˜ç„™ï¼‰',
          file: 'roasted',
          desc: 'ç”±çƒ˜ç„™ç”¢ç”Ÿçš„é¢¨å‘³ï¼ˆæ¢…ç´åæ‡‰ã€ç„¦ç³–åŒ–ç­‰ï¼‰ï¼Œå¦‚çƒ˜çƒ¤ã€ç„¦ç³–ã€çƒ˜ç„™ç³•é»æˆ–å¯å¯æ„Ÿï¼Œç‚ºé¢¨å‘³æ·»æ·±åº¦ã€‚'
        },
        {
          name: 'Spicesï¼ˆé¦™æ–™ï¼‰',
          file: 'spices',
          desc: 'è¿‘ä¼¼è¾›é¦™æ–™çš„é¦™æ°£ï¼ˆæº«æš–ã€è¾›é¦™ï¼‰ï¼Œå¤šè¦‹æ–¼ä¸­æ·±ç„™æˆ–ç‰¹å®šç”¢å€ï¼Œä¾†è‡ªé¢¨å‘³åŒ–å­¸åæ‡‰æˆ–åŸæ–™ç‰¹æ€§ã€‚'
        },
        {
          name: 'Nutty / Cocoaï¼ˆå …æœ / å¯å¯ï¼‰',
          file: 'nutty',
          desc: 'å¸¶å …æœæˆ–å·§å…‹åŠ›æ„Ÿçš„æº«æš–ç”œå‘³ï¼Œå¸¸è¦‹æ–¼ä¸­æ·±ç„™ï¼Œæä¾›åšåº¦èˆ‡ç†Ÿæˆæ„Ÿã€‚'
        },
        {
          name: 'Otherï¼ˆå…¶ä»– / ç¼ºé™·ï¼‰',
          file: 'other',
          desc: 'ç”¨æ–¼æ¨™ç¤ºä¸è‰¯æˆ–ç•°å¸¸é¢¨å‘³ï¼ˆç•°å‘³ã€æ±¡å‘³ç­‰ï¼‰ï¼Œä¾¿æ–¼è¿½æº¯èˆ‡åˆ†æç¼ºé™·ä¾†æºã€‚'
        }
    ];

    // State
    let activeFloorIndex = 0;
    let selectedItem = null;

    // DOM refs
    const floorButtonsEl = document.getElementById('floor-buttons');
    const itemsGridEl = document.getElementById('items-grid');
    const detailContentEl = document.getElementById('detail-content');
    const burrInfoEl = document.getElementById('burr-info');
    const cupsEl = document.getElementById('cups');
    const flavorsEl = document.getElementById('flavor');

    function renderFloorButtons() {
      floorButtonsEl.innerHTML = '';
      FLOORS.forEach((f, idx) => {
        const btn = document.createElement('button');
        btn.textContent = f.id;
        btn.className = `px-3 py-1 rounded-md text-sm font-medium ${idx === activeFloorIndex ? 'bg-gray-900 text-white' : 'bg-gray-100 text-gray-700'}`;
        btn.addEventListener('click', () => {
          activeFloorIndex = idx;
          selectedItem = null;
          renderAll();
        });
        floorButtonsEl.appendChild(btn);
      });
    }

    function renderItems() {
      const activeFloor = FLOORS[activeFloorIndex];
      itemsGridEl.innerHTML = '';
      activeFloor.items.forEach(it => {
        const btn = document.createElement('button');
        btn.className = 'group flex flex-col items-center gap-2 p-3 rounded-lg hover:shadow-md transition-shadow bg-white';
        btn.addEventListener('click', () => {
          selectedItem = { ...it, floor: activeFloor.id };
          renderDetail();
        });

        const icon = document.createElement('img');
        icon.className = 'icon-img';
        icon.alt = it.key;
        icon.src = `${ICON_DIR}/${it.key}.jpg`;
        // fallback to a small colored placeholder if image missing
        icon.onerror = function () {
          this.onerror = null;
          this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect width="100%" height="100%" fill="%23e5e7eb"/><text x="50%" y="55%" font-size="12" text-anchor="middle" fill="%2371717a">${encodeURIComponent(it.key)}</text></svg>';
        };

        const title = document.createElement('div');
        title.className = 'text-xs text-center text-gray-700 px-1 font-medium';
        title.style.maxWidth = '140px';
        title.textContent = it.title;

        const hint = document.createElement('div');
        hint.className = 'mt-1 text-xs text-gray-400';
        hint.textContent = 'é»æ“ŠæŸ¥çœ‹';

        btn.appendChild(icon);
        btn.appendChild(title);
        btn.appendChild(hint);

        itemsGridEl.appendChild(btn);
      });
    }

    function renderDetail() {
      if (!selectedItem) {
        detailContentEl.innerHTML = 'å°šæœªé¸å–ä»»ä½•ç‰©å“ã€‚é»æ“Šå·¦å´çš„åœ–ç¤ºæŸ¥çœ‹ç´°ç¯€ã€‚';
        burrInfoEl.innerHTML = '';
        return;
      }

      // main details
      detailContentEl.innerHTML = `
        <div class="mt-3 space-y-3">
          <div>
            <div class="text-sm text-gray-600">æ¨“å±¤</div>
            <div class="font-medium">${escapeHtml(selectedItem.floor)}</div>
          </div>
          <div>
            <div class="text-sm text-gray-600">è¨­å‚™</div>
            <div class="font-medium">${escapeHtml(selectedItem.title)}</div>
          </div>
          ${selectedItem.link ? `
            <div class="mt-4 border-t pt-3">
              <div class="text-sm text-gray-600 font-medium mb-2">ç”¢å“é€£çµ</div>
              <a href="${escapeAttr(selectedItem.link)}" target="_blank" rel="noopener noreferrer" class="text-blue-600 text-sm block break-all no-hover">å‰å¾€å•†å“é é¢</a>
            </div>
          ` : ''}
        </div>
      `;

      // burr info
      if (selectedItem.burr) {
        burrInfoEl.innerHTML = `
          <div class="border-t pt-3">
            <h3 class="text-sm font-semibold mb-2">åˆ€ç›¤è³‡è¨Š</h3>
            <div class="text-sm text-gray-700">${escapeHtml(selectedItem.burr)}</div>
            ${selectedItem.burrLink ? `<img src="${escapeAttr(selectedItem.burrLink)}" alt="${escapeAttr(selectedItem.burr)}" class="mt-2 rounded-lg border object-contain max-h-60 w-full" />` : ''}
          </div>
        `;
      } else {
        burrInfoEl.innerHTML = '';
      }
    }

    function renderCups() {
      cupsEl.innerHTML = '';
      cupsData.forEach(cup => {
        const card = document.createElement('div');
        card.className = 'min-w-[240px] bg-gray-50 rounded-xl p-4 border flex-shrink-0';

        const imgWrap = document.createElement('div');
        imgWrap.className = 'rounded-md w-full h-44 overflow-hidden bg-white border';

        const img = document.createElement('img');
        img.src = cup.img;
        img.alt = cup.name;
        img.className = 'w-full h-full object-contain';

        imgWrap.appendChild(img);
        const h3 = document.createElement('h3');
        h3.className = 'text-sm font-semibold mt-3 mb-1';
        h3.textContent = cup.name;

        const p = document.createElement('p');
        p.className = 'text-xs text-gray-600 leading-relaxed min-h-[2.5rem]';
        p.textContent = cup.desc;

        card.appendChild(imgWrap);
        card.appendChild(h3);
        card.appendChild(p);

        if (cup.link) {
          const a = document.createElement('a');
          a.href = cup.link;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.className = 'text-xs text-blue-600 no-hover inline-block mt-2';
          a.textContent = 'æŸ¥çœ‹è©³æƒ…';
          card.appendChild(a);
        }

        cupsEl.appendChild(card);
      });
    }

    function renderFlavor() {
      flavorsEl.innerHTML = '';
      flavorsData.forEach(flavor => {
        const card = document.createElement('div');
        card.className = 'min-w-[240px] bg-gray-50 rounded-xl p-4 border flex-shrink-0';

        const imgWrap = document.createElement('div');
        imgWrap.className = 'rounded-md w-full h-44 overflow-hidden bg-white border';

        const img = document.createElement('img');
        img.className = 'flavor-img';
        img.alt = flavor.name;
        img.src = `${ICON_DIR}/flavors/${flavor.file}.jpg`;
        // fallback to a small colored placeholder if image missing
        img.onerror = function () {
          this.onerror = null;
          this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect width="100%" height="100%" fill="%23e5e7eb"/><text x="50%" y="55%" font-size="12" text-anchor="middle" fill="%2371717a">${encodeURIComponent(it.key)}</text></svg>';
        };

        imgWrap.appendChild(img);
        const h3 = document.createElement('h3');
        h3.className = 'text-sm font-semibold mt-3 mb-1';
        h3.textContent = flavor.name;

        const p = document.createElement('p');
        p.className = 'text-xs text-gray-600 leading-relaxed min-h-[2.5rem]';
        p.textContent = flavor.desc;

        card.appendChild(imgWrap);
        card.appendChild(h3);
        card.appendChild(p);

        flavorsEl.appendChild(card);
      });
    }


    function renderAll() {
      renderFloorButtons();
      renderItems();
      renderDetail();
      renderCups();
      renderFlavor();
    }

    // Small helpers to avoid XSS when generating innerHTML
    function escapeHtml(str) {
      if (!str && str !== 0) return '';
      return String(str).replace(/[&<>"']/g, function (m) {
        return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]);
      });
    }
    function escapeAttr(s) { return escapeHtml(s).replace(/"/g, '&quot;'); }

    // initial render
    renderAll();
  </script>
</body>
</html>
